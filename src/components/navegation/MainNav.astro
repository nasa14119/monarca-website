---
// Components
import { getRelativeLocaleUrl } from "astro:i18n";
import { SideMenu } from "./components/SlideMenu";
import Logo from "@/assets/nav_logo.png";
import Image from "astro/components/Image.astro";
// currentLocale can't be imported
import type { LANGS } from "@types";
const currentLocale = (Astro.currentLocale ?? "es") as LANGS;
const linkRelative = (path: string) =>
  getRelativeLocaleUrl(currentLocale, path);
import { getCurrentLinks } from "@components/navegation/links";
const formated_links = getCurrentLinks(currentLocale);
---

<nav class="flex justify-between h-12 px-2 py-1 sticky top-0">
  <a href={linkRelative("/")} class="h-full w-fit">
    <Image
      alt="logo ruta monarca"
      src={Logo}
      class="h-full w-fit"
      loading="eager"
    />
  </a>
  <SideMenu client:visible>
    <ul class="flex flex-col h-full justify-center gap-y-2">
      {
        Object.values(formated_links).map((link) => {
          return (
            <li>
              <a href={linkRelative(link.path)} aria-label={link.body}>
                {link.body}
              </a>
            </li>
          );
        })
      }
    </ul>
  </SideMenu>
</nav>
<style>
  @reference "@styles/global.css";
  nav {
    @apply md:hidden;
  }
  li {
    @apply font-medium text-xl text-right  w-full px-2 py-2 rounded-sm font-title;
  }
</style>
